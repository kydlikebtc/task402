# X402 ç³»ç»Ÿæ¶æ„æ–‡æ¡£

**ç‰ˆæœ¬**: 1.0.0  
**æœ€åæ›´æ–°**: 2025-10-25  
**æ–‡æ¡£ç±»å‹**: æŠ€æœ¯æ¶æ„æ–‡æ¡£

---

## ğŸ“‘ ç›®å½•

- [ç³»ç»Ÿæ¦‚è§ˆ](#ç³»ç»Ÿæ¦‚è§ˆ)
- [æŠ€æœ¯æ ˆ](#æŠ€æœ¯æ ˆ)
- [åˆ†å±‚æ¶æ„](#åˆ†å±‚æ¶æ„)
- [æ ¸å¿ƒç»„ä»¶](#æ ¸å¿ƒç»„ä»¶)
- [æ•°æ®æ¨¡å‹](#æ•°æ®æ¨¡å‹)
- [å®‰å…¨æ¶æ„](#å®‰å…¨æ¶æ„)
- [éƒ¨ç½²æ¶æ„](#éƒ¨ç½²æ¶æ„)

---

## ç³»ç»Ÿæ¦‚è§ˆ

### æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         ç”¨æˆ·å±‚                                    â”‚
â”‚   Creator          Worker          Verifier          Admin       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â”‚ HTTPS/WebSocket
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      å‰ç«¯å±‚ (Frontend)                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Next.js 14 App (React 18 + TypeScript)                 â”‚  â”‚
â”‚  â”‚  â€¢ SSR/SSG                                                â”‚  â”‚
â”‚  â”‚  â€¢ Client Components                                      â”‚  â”‚
â”‚  â”‚  â€¢ Server Components                                      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  UI Components                                            â”‚  â”‚
â”‚  â”‚  â€¢ ä»»åŠ¡åˆ—è¡¨/è¯¦æƒ…                                          â”‚  â”‚
â”‚  â”‚  â€¢ åˆ›å»ºä»»åŠ¡ï¼ˆæ ‡å‡†/é›¶Gasï¼‰                                â”‚  â”‚
â”‚  â”‚  â€¢ æ§åˆ¶é¢æ¿                                               â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Web3 é›†æˆå±‚                                              â”‚  â”‚
â”‚  â”‚  â€¢ wagmi v2 (React Hooks)                                â”‚  â”‚
â”‚  â”‚  â€¢ RainbowKit (é’±åŒ…è¿æ¥)                                 â”‚  â”‚
â”‚  â”‚  â€¢ ethers.js v6 (ç­¾å)                                   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                   â”‚                   â”‚
        â”‚ Web3 RPC          â”‚ HTTP API          â”‚ IPFS
        â†“                   â†“                   â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   åŒºå—é“¾å±‚     â”‚ â”‚ Facilitator å±‚   â”‚ â”‚  å­˜å‚¨å±‚      â”‚
â”‚               â”‚ â”‚                  â”‚ â”‚              â”‚
â”‚  Base L2      â”‚ â”‚  Express Server  â”‚ â”‚  IPFS        â”‚
â”‚  â€¢ Hardhat    â”‚ â”‚  â€¢ ç­¾åéªŒè¯      â”‚ â”‚  â€¢ ç»“æœæ–‡ä»¶  â”‚
â”‚  â€¢ Base       â”‚ â”‚  â€¢ äº¤æ˜“ä»£ä»˜      â”‚ â”‚  â€¢ å…ƒæ•°æ®    â”‚
â”‚               â”‚ â”‚  â€¢ Rate Limit    â”‚ â”‚              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                  â”‚
        â†“                  â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         æ™ºèƒ½åˆçº¦å±‚                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  TaskRegistry.sol              â”‚ â”‚
â”‚  â”‚  â€¢ ä»»åŠ¡ç®¡ç†                     â”‚ â”‚
â”‚  â”‚  â€¢ NFT é“¸é€                     â”‚ â”‚
â”‚  â”‚  â€¢ é›¶Gasé›†æˆ                   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  X402Escrow.sol                â”‚ â”‚
â”‚  â”‚  â€¢ èµ„é‡‘æ‰˜ç®¡                     â”‚ â”‚
â”‚  â”‚  â€¢ è‡ªåŠ¨ç»“ç®—                     â”‚ â”‚
â”‚  â”‚  â€¢ å¤–éƒ¨æ”¯ä»˜è®°å½•                 â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  MockUSDC.sol (æµ‹è¯•)           â”‚ â”‚
â”‚  â”‚  â€¢ EIP-3009                    â”‚ â”‚
â”‚  â”‚  â€¢ transferWithAuthorization   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## æŠ€æœ¯æ ˆ

### å‰ç«¯æŠ€æœ¯æ ˆ

| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| **Next.js** | 14 | React æ¡†æ¶ (App Router) |
| **React** | 18 | UI åº“ |
| **TypeScript** | 5.0 | ç±»å‹å®‰å…¨ |
| **wagmi** | 2.12 | React Hooks for Ethereum |
| **RainbowKit** | 2.1 | é’±åŒ…è¿æ¥ UI |
| **ethers.js** | v6 | ä»¥å¤ªåŠ SDK |
| **Tailwind CSS** | 3 | CSS æ¡†æ¶ |
| **shadcn/ui** | - | UI ç»„ä»¶åº“ |

### åç«¯æŠ€æœ¯æ ˆ (Facilitator)

| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| **Node.js** | 22+ | è¿è¡Œæ—¶ç¯å¢ƒ |
| **Express.js** | 4 | Web æ¡†æ¶ |
| **TypeScript** | 5.0 | ç±»å‹å®‰å…¨ |
| **ethers.js** | v6 | ä»¥å¤ªåŠ SDK |
| **express-rate-limit** | 7 | Rate limiting |
| **cors** | 2 | è·¨åŸŸæ”¯æŒ |

### æ™ºèƒ½åˆçº¦æŠ€æœ¯æ ˆ

| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| **Solidity** | 0.8.24 | æ™ºèƒ½åˆçº¦è¯­è¨€ |
| **Hardhat** | 2.26 | å¼€å‘æ¡†æ¶ |
| **OpenZeppelin** | 5.1 | åˆçº¦åº“ |
| **ethers.js** | v6 | éƒ¨ç½²å’Œæµ‹è¯• |

### åŸºç¡€è®¾æ–½

| æŠ€æœ¯ | ç”¨é€” |
|------|------|
| **Base L2** | åŒºå—é“¾ç½‘ç»œ (ä¸»ç½‘/æµ‹è¯•ç½‘) |
| **Hardhat Network** | æœ¬åœ°æµ‹è¯•ç½‘ |
| **IPFS** | å»ä¸­å¿ƒåŒ–å­˜å‚¨ |
| **Vercel** | å‰ç«¯éƒ¨ç½² (æ¨è) |
| **AWS/GCP** | Facilitator éƒ¨ç½² |

---

## åˆ†å±‚æ¶æ„

### 1. è¡¨ç¤ºå±‚ (Presentation Layer)

**èŒè´£**: ç”¨æˆ·äº¤äº’å’Œå±•ç¤º

**ç»„ä»¶**:

```
app/
â”œâ”€â”€ (pages)/
â”‚   â”œâ”€â”€ page.tsx                  # é¦–é¡µ
â”‚   â”œâ”€â”€ tasks/
â”‚   â”‚   â”œâ”€â”€ page.tsx             # ä»»åŠ¡åˆ—è¡¨
â”‚   â”‚   â””â”€â”€ [id]/page.tsx        # ä»»åŠ¡è¯¦æƒ…
â”‚   â”œâ”€â”€ create/
â”‚   â”‚   â””â”€â”€ page.tsx             # åˆ›å»ºä»»åŠ¡ï¼ˆå«é›¶Gasï¼‰
â”‚   â””â”€â”€ dashboard/
â”‚       â””â”€â”€ page.tsx             # æ§åˆ¶é¢æ¿
â”œâ”€â”€ components/                   # UI ç»„ä»¶
â”‚   â”œâ”€â”€ TaskCard.tsx
â”‚   â”œâ”€â”€ TaskForm.tsx
â”‚   â”œâ”€â”€ ZeroGasToggle.tsx
â”‚   â””â”€â”€ ...
â””â”€â”€ lib/
    â”œâ”€â”€ wagmi.ts                 # Web3 é…ç½®
    â”œâ”€â”€ config.json              # åˆçº¦é…ç½®
    â””â”€â”€ eip3009/
        â””â”€â”€ signer.ts            # å‰ç«¯ç­¾ååº“
```

**æŠ€æœ¯é€‰å‹ç†ç”±**:
- **Next.js 14 App Router**: SSR/SSG ä¼˜åŒ– SEOï¼Œæå‡é¦–å±åŠ è½½é€Ÿåº¦
- **React Server Components**: å‡å°‘å®¢æˆ·ç«¯ JavaScriptï¼Œæå‡æ€§èƒ½
- **TypeScript**: ç±»å‹å®‰å…¨ï¼Œå‡å°‘è¿è¡Œæ—¶é”™è¯¯
- **wagmi**: React Hooks ç®€åŒ– Web3 é›†æˆ

---

### 2. ä¸šåŠ¡é€»è¾‘å±‚ (Business Logic Layer)

**èŒè´£**: å°è£…ä¸šåŠ¡é€»è¾‘å’Œåˆçº¦äº¤äº’

**ç»„ä»¶**:

```
app/hooks/
â”œâ”€â”€ useTaskRegistry.ts           # TaskRegistry åˆçº¦äº¤äº’
â”‚   â”œâ”€â”€ createTask()
â”‚   â”œâ”€â”€ assignTask()
â”‚   â”œâ”€â”€ submitTask()
â”‚   â”œâ”€â”€ verifyTask()
â”‚   â””â”€â”€ ...
â”œâ”€â”€ useUSDC.ts                   # USDC ä»£å¸æ“ä½œ
â”‚   â”œâ”€â”€ approve()
â”‚   â”œâ”€â”€ balanceOf()
â”‚   â”œâ”€â”€ allowance()
â”‚   â””â”€â”€ ...
â””â”€â”€ useTasks.ts                  # æ‰¹é‡ä»»åŠ¡æ•°æ®
    â”œâ”€â”€ useAllTasks()
    â”œâ”€â”€ useUserTasks()
    â””â”€â”€ ...
```

**æ ¸å¿ƒ Hook ç¤ºä¾‹**:

```typescript
// useTaskRegistry.ts
export function useTaskRegistry() {
  const config = useConfig();
  
  // å†™æ“ä½œ: åˆ›å»ºä»»åŠ¡
  const { writeContract } = useWriteContract();
  
  const createTask = async (
    description: string,
    reward: bigint,
    deadline: number,
    category: number
  ) => {
    return writeContract({
      address: config.contracts.taskRegistry,
      abi: TaskRegistryABI,
      functionName: 'createTask',
      args: [description, reward, deadline, category],
    });
  };
  
  // è¯»æ“ä½œ: è·å–ä»»åŠ¡
  const { data: task } = useReadContract({
    address: config.contracts.taskRegistry,
    abi: TaskRegistryABI,
    functionName: 'tasks',
    args: [taskId],
  });
  
  return { createTask, task, ... };
}
```

---

### 3. Facilitator æœåŠ¡å±‚

**èŒè´£**: é›¶ Gas è´¹ä¸­ç»§æœåŠ¡

**æ¶æ„**:

```
packages/facilitator/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ server.ts                # Express æœåŠ¡å™¨
â”‚   â”œâ”€â”€ config.ts                # é…ç½®åŠ è½½
â”‚   â”œâ”€â”€ types.ts                 # TypeScript ç±»å‹
â”‚   â”œâ”€â”€ routes/
â”‚   â”‚   â”œâ”€â”€ create-task.ts       # POST /api/v1/tasks/create
â”‚   â”‚   â””â”€â”€ health.ts            # GET /health
â”‚   â””â”€â”€ services/
â”‚       â”œâ”€â”€ transaction.ts       # äº¤æ˜“å¤„ç†
â”‚       â””â”€â”€ signature.ts         # ç­¾åéªŒè¯
â”œâ”€â”€ config.json                  # é…ç½®æ–‡ä»¶
â””â”€â”€ package.json
```

**è¯·æ±‚å¤„ç†æµç¨‹**:

```
Client Request
    â†“
Rate Limiting (100 req/hour)
    â†“
CORS Validation
    â†“
Body Parsing (JSON)
    â†“
Request Handler (/api/v1/tasks/create)
    â†“
1. Verify Signature
    â”œâ”€ EIP-712 domain
    â”œâ”€ Recover signer
    â””â”€ Validate signature
    â†“
2. Check Gas Price
    â”œâ”€ Get current gas price
    â””â”€ Compare with max (100 gwei)
    â†“
3. Call Contract
    â”œâ”€ createTaskWithEIP3009()
    â””â”€ Wait for confirmation
    â†“
4. Extract Task ID
    â”œâ”€ Parse TaskCreated event
    â””â”€ Return task ID
    â†“
Response (JSON)
```

**å®‰å…¨æœºåˆ¶**:
- Rate Limiting: é™åˆ¶æ¯ IP æ¯å°æ—¶è¯·æ±‚æ•°
- Gas Limit: æœ€å¤§ Gas ä»·æ ¼å’Œ Gas limit
- ç­¾åéªŒè¯: é˜²æ­¢ä¼ªé€ è¯·æ±‚
- Error Handling: å®Œæ•´çš„é”™è¯¯å¤„ç†

---

### 4. æ™ºèƒ½åˆçº¦å±‚ (Smart Contract Layer)

**èŒè´£**: é“¾ä¸Šä¸šåŠ¡é€»è¾‘å’Œèµ„é‡‘ç®¡ç†

**åˆçº¦æ¶æ„**:

```
packages/contracts/contracts/
â”œâ”€â”€ TaskRegistry.sol             # ä¸»åˆçº¦
â”‚   â”œâ”€â”€ ERC721                   # ä»»åŠ¡ NFT
â”‚   â”œâ”€â”€ ReentrancyGuard          # é˜²é‡å…¥
â”‚   â”œâ”€â”€ Pausable                 # ç´§æ€¥æš‚åœ
â”‚   â””â”€â”€ AccessControl            # æƒé™ç®¡ç†
â”œâ”€â”€ X402Escrow.sol               # æ‰˜ç®¡åˆçº¦
â”‚   â”œâ”€â”€ ReentrancyGuard
â”‚   â”œâ”€â”€ Pausable
â”‚   â””â”€â”€ AccessControl
â”œâ”€â”€ MockUSDC.sol                 # æµ‹è¯•ä»£å¸
â”‚   â”œâ”€â”€ ERC20
â”‚   â””â”€â”€ EIP-3009
â””â”€â”€ interfaces/
    â”œâ”€â”€ ITaskRegistry.sol
    â”œâ”€â”€ IX402Escrow.sol
    â””â”€â”€ IEIP3009.sol
```

**åˆçº¦å…³ç³»å›¾**:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          TaskRegistry (ERC721)              â”‚
â”‚  â€¢ ä»»åŠ¡ç®¡ç†                                  â”‚
â”‚  â€¢ NFT é“¸é€                                   â”‚
â”‚  â€¢ çŠ¶æ€æœº                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚ owns
            â”‚ calls
            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           X402Escrow                        â”‚
â”‚  â€¢ èµ„é‡‘æ‰˜ç®¡                                  â”‚
â”‚  â€¢ è‡ªåŠ¨ç»“ç®—                                  â”‚
â”‚  â€¢ æ”¯ä»˜è®°å½•                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚ transfers
            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          USDC (ERC20 + EIP-3009)            â”‚
â”‚  â€¢ USDC ä»£å¸                                 â”‚
â”‚  â€¢ transferWithAuthorization                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## æ ¸å¿ƒç»„ä»¶

### ç»„ä»¶ 1: TaskRegistry åˆçº¦

**èŒè´£**: ä»»åŠ¡ç”Ÿå‘½å‘¨æœŸç®¡ç†

**æ ¸å¿ƒåŠŸèƒ½**:

```solidity
contract TaskRegistry is ERC721, ReentrancyGuard, Pausable {
    // ä»»åŠ¡ç»“æ„
    struct Task {
        address creator;
        address worker;
        string description;
        uint256 reward;
        uint256 deadline;
        TaskCategory category;
        TaskStatus status;
        string resultHash;
    }
    
    // çŠ¶æ€æšä¸¾
    enum TaskStatus { Open, Assigned, Submitted, Verified, Completed, Cancelled, Rejected }
    
    // å­˜å‚¨
    mapping(uint256 => Task) public tasks;
    uint256 public taskCount;
    
    // æ ¸å¿ƒå‡½æ•°
    function createTask(...) external returns (uint256);
    function createTaskWithEIP3009(...) external returns (uint256);  // é›¶Gas
    function assignTask(uint256 taskId) external;
    function submitTask(uint256 taskId, string memory resultHash) external;
    function verifyTask(uint256 taskId, bool approved) external;
    function cancel(uint256 taskId) external;
}
```

**è®¾è®¡æ¨¡å¼**:
- **çŠ¶æ€æœº**: ä¸¥æ ¼çš„çŠ¶æ€è½¬æ¢è§„åˆ™
- **äº‹ä»¶é©±åŠ¨**: æ‰€æœ‰çŠ¶æ€å˜æ›´è§¦å‘äº‹ä»¶
- **è®¿é—®æ§åˆ¶**: onlyVerifier ä¿®é¥°ç¬¦
- **é˜²å¾¡æ€§ç¼–ç¨‹**: require æ£€æŸ¥æ‰€æœ‰å‰ç½®æ¡ä»¶

---

### ç»„ä»¶ 2: X402Escrow åˆçº¦

**èŒè´£**: èµ„é‡‘æ‰˜ç®¡å’Œè‡ªåŠ¨ç»“ç®—

**æ ¸å¿ƒåŠŸèƒ½**:

```solidity
contract X402Escrow is ReentrancyGuard, Pausable {
    // æ”¯ä»˜ç»“æ„
    struct Payment {
        address payer;
        address payee;
        address token;
        uint256 amount;
        uint256 deadline;
        uint256 taskId;
        bool settled;
    }
    
    // å­˜å‚¨
    mapping(bytes32 => Payment) public payments;
    
    // æ ¸å¿ƒå‡½æ•°
    function createPayment(...) external;
    function registerExternalPayment(...) external;  // é›¶Gasæ”¯ä»˜è®°å½•
    function settle(...) external;
    function refund(bytes32 paymentHash) external;
}
```

**ç»“ç®—é€»è¾‘**:

```solidity
function settle(bytes32 paymentHash, address agent, ...) external {
    Payment storage payment = payments[paymentHash];
    require(!payment.settled, "Already settled");
    
    uint256 total = payment.amount;
    
    // åˆ†é…æ¯”ä¾‹
    uint256 agentAmount = (total * 98) / 100;       // 98%
    uint256 platformFee = (total * 15) / 1000;      // 1.5%
    uint256 verifierFee = (total * 5) / 1000;       // 0.5%
    
    // è½¬è´¦
    IERC20(payment.token).transfer(agent, agentAmount);
    IERC20(payment.token).transfer(platformWallet, platformFee);
    IERC20(payment.token).transfer(verifierWallet, verifierFee);
    
    payment.settled = true;
}
```

---

### ç»„ä»¶ 3: å‰ç«¯ç­¾ååº“

**èŒè´£**: EIP-3009 ç­¾åç”Ÿæˆ

**å®ç°** (`app/lib/eip3009/signer.ts`):

```typescript
export async function createEIP3009Authorization(
  signer: ethers.Signer,
  usdcAddress: string,
  chainId: number,
  to: string,
  value: bigint,
  validUntilTimestamp?: number
): Promise<EIP3009Signature> {
  // 1. è·å–ç­¾åè€…åœ°å€
  const from = await signer.getAddress();
  
  // 2. ç”Ÿæˆéšæœº nonce
  const nonce = '0x' + crypto.randomBytes(32).toString('hex');
  
  // 3. è®¾ç½®æ—¶é—´çª—å£
  const validAfter = 0;
  const validBefore = validUntilTimestamp || 
    Math.floor(Date.now() / 1000) + 3600;
  
  // 4. EIP-712 Domain
  const domain = {
    name: 'USD Coin',
    version: '1',
    chainId,
    verifyingContract: usdcAddress,
  };
  
  // 5. EIP-712 Types
  const types = {
    TransferWithAuthorization: [
      { name: 'from', type: 'address' },
      { name: 'to', type: 'address' },
      { name: 'value', type: 'uint256' },
      { name: 'validAfter', type: 'uint256' },
      { name: 'validBefore', type: 'uint256' },
      { name: 'nonce', type: 'bytes32' },
    ],
  };
  
  // 6. Message
  const message = {
    from,
    to,
    value: value.toString(),
    validAfter,
    validBefore,
    nonce,
  };
  
  // 7. ç­¾å
  const signature = await signer.signTypedData(domain, types, message);
  const sig = ethers.Signature.from(signature);
  
  return {
    v: sig.v,
    r: sig.r,
    s: sig.s,
    nonce,
    validAfter,
    validBefore,
  };
}
```

---

## æ•°æ®æ¨¡å‹

### é“¾ä¸Šæ•°æ®æ¨¡å‹

#### Task ç»“æ„

```solidity
struct Task {
    address creator;         // ä»»åŠ¡åˆ›å»ºè€…
    address worker;          // ä»»åŠ¡æ‰§è¡Œè€…
    string description;      // ä»»åŠ¡æè¿°
    uint256 reward;          // å¥–åŠ±é‡‘é¢ (USDC, 6 decimals)
    uint256 deadline;        // æˆªæ­¢æ—¶é—´ (Unix timestamp)
    TaskCategory category;   // ä»»åŠ¡åˆ†ç±»
    TaskStatus status;       // ä»»åŠ¡çŠ¶æ€
    string resultHash;       // ç»“æœå“ˆå¸Œ (IPFS)
}
```

**å­—æ®µè¯´æ˜**:

| å­—æ®µ | ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|------|
| creator | address | ä»»åŠ¡å‘èµ·è€…åœ°å€ | 0xf39F... |
| worker | address | æ‰§è¡Œè€…åœ°å€ï¼ˆåˆå§‹ä¸º 0x0ï¼‰ | 0x7099... |
| description | string | ä»»åŠ¡æè¿° | "åˆ†æ DeFi æ•°æ®" |
| reward | uint256 | å¥–åŠ±é‡‘é¢ï¼ˆweiï¼Œ6ä½å°æ•°ï¼‰ | 50000000 (50 USDC) |
| deadline | uint256 | Unix æ—¶é—´æˆ³ | 1730000000 |
| category | enum | ä»»åŠ¡ç±»å‹ | Development |
| status | enum | å½“å‰çŠ¶æ€ | Open |
| resultHash | string | IPFS å“ˆå¸Œ | ipfs://Qm... |

---

#### Payment ç»“æ„

```solidity
struct Payment {
    address payer;           // æ”¯ä»˜è€…
    address payee;           // æ¥æ”¶è€…
    address token;           // ä»£å¸åœ°å€ (USDC)
    uint256 amount;          // é‡‘é¢
    uint256 deadline;        // æˆªæ­¢æ—¶é—´
    uint256 taskId;          // å…³è”ä»»åŠ¡ID
    bool settled;            // æ˜¯å¦å·²ç»“ç®—
}
```

---

### é“¾ä¸‹æ•°æ®æ¨¡å‹ (å‰ç«¯/Facilitator)

#### CreateTaskRequest (Facilitator)

```typescript
interface CreateTaskRequest {
  creator: string;           // Creator åœ°å€
  description: string;       // ä»»åŠ¡æè¿°
  reward: string;            // å¥–åŠ±é‡‘é¢ (å­—ç¬¦ä¸²ï¼Œé¿å…ç²¾åº¦é—®é¢˜)
  deadline: number;          // æˆªæ­¢æ—¶é—´æˆ³
  category: number;          // ä»»åŠ¡åˆ†ç±»
  signature: {
    v: number;
    r: string;
    s: string;
    nonce: string;
    validAfter: number;
    validBefore: number;
  };
}
```

#### FacilitatorConfig

```typescript
interface FacilitatorConfig {
  port: number;
  rpcUrl: string;
  chainId: number;
  privateKey: string;
  contracts: {
    taskRegistry: string;
    escrow: string;
    usdc: string;
  };
  rateLimit: {
    windowMs: number;
    maxRequests: number;
  };
  gasLimit: {
    maxGasPrice: string;     // gwei
    maxGasLimit: number;
  };
}
```

---

## å®‰å…¨æ¶æ„

### 1. æ™ºèƒ½åˆçº¦å®‰å…¨

#### é˜²é‡å…¥æ”»å‡»

```solidity
import "@openzeppelin/contracts/security/ReentrancyGuard.sol";

contract TaskRegistry is ReentrancyGuard {
    function createTask(...) external nonReentrant returns (uint256) {
        // å‡½æ•°ä½“
    }
}
```

#### ç´§æ€¥æš‚åœ

```solidity
import "@openzeppelin/contracts/security/Pausable.sol";

contract TaskRegistry is Pausable {
    function createTask(...) external whenNotPaused returns (uint256) {
        // å‡½æ•°ä½“
    }
    
    function pause() external onlyOwner {
        _pause();
    }
    
    function unpause() external onlyOwner {
        _unpause();
    }
}
```

#### è®¿é—®æ§åˆ¶

```solidity
modifier onlyVerifier() {
    require(msg.sender == verifier, "Not verifier");
    _;
}

function verifyTask(...) external onlyVerifier {
    // ä»… Verifier å¯è°ƒç”¨
}
```

---

### 2. Facilitator å®‰å…¨

#### Rate Limiting

```typescript
import rateLimit from 'express-rate-limit';

const limiter = rateLimit({
  windowMs: config.rateLimit.windowMs,    // 1 hour
  max: config.rateLimit.maxRequests,      // 100 requests
  message: 'Too many requests',
});

app.use('/api/', limiter);
```

#### Gas Limit æ§åˆ¶

```typescript
// æ£€æŸ¥ Gas ä»·æ ¼
const maxGasPrice = ethers.parseUnits(
  config.gasLimit.maxGasPrice,
  'gwei'
);

if (currentGasPrice > maxGasPrice) {
  return { success: false, error: 'Gas price too high' };
}

// è®¾ç½® Gas Limit
const tx = await contract.method({
  gasLimit: config.gasLimit.maxGasLimit,
});
```

#### ç­¾åéªŒè¯

```typescript
async function verifyEIP3009Signature(...): Promise<{
  valid: boolean;
  error?: string;
}> {
  try {
    // 1. æ„é€  digest
    const digest = ethers.keccak256(...);
    
    // 2. æ¢å¤ç­¾åè€…
    const signer = ethers.recoverAddress(digest, signature);
    
    // 3. éªŒè¯ç­¾åè€… == from
    if (signer.toLowerCase() !== from.toLowerCase()) {
      return { valid: false, error: 'Invalid signature' };
    }
    
    return { valid: true };
  } catch (error) {
    return { valid: false, error: error.message };
  }
}
```

---

### 3. å‰ç«¯å®‰å…¨

#### XSS é˜²æŠ¤

- React è‡ªåŠ¨è½¬ä¹‰è¾“å‡º
- ä½¿ç”¨ `dangerouslySetInnerHTML` æ—¶è¿›è¡Œæ¸…ç†
- Content Security Policy (CSP)

#### CSRF é˜²æŠ¤

- SameSite Cookie
- CORS é…ç½®

#### è¾“å…¥éªŒè¯

```typescript
// éªŒè¯ IPFS å“ˆå¸Œæ ¼å¼
const ipfsRegex = /^(ipfs:\/\/)?(Qm[1-9A-HJ-NP-Za-km-z]{44})$/;
if (!ipfsRegex.test(hash)) {
  throw new Error('Invalid IPFS hash');
}

// éªŒè¯é‡‘é¢èŒƒå›´
if (reward < 1 || reward > 1000000) {
  throw new Error('Invalid reward amount');
}
```

---

## éƒ¨ç½²æ¶æ„

### æœ¬åœ°å¼€å‘ç¯å¢ƒ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         å¼€å‘æœº (localhost)              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Hardhat Network (chainId 31337)â”‚ â”‚
â”‚  â”‚  â€¢ MockUSDC                      â”‚ â”‚
â”‚  â”‚  â€¢ TaskRegistry                  â”‚ â”‚
â”‚  â”‚  â€¢ X402Escrow                    â”‚ â”‚
â”‚  â”‚  Port: 8545                      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Facilitator Server              â”‚ â”‚
â”‚  â”‚  â€¢ Express API                   â”‚ â”‚
â”‚  â”‚  Port: 3001                      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Next.js Dev Server              â”‚ â”‚
â”‚  â”‚  â€¢ Frontend                      â”‚ â”‚
â”‚  â”‚  Port: 3000                      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### ç”Ÿäº§ç¯å¢ƒï¼ˆæ¨èæ¶æ„ï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   CDN (Cloudflare)                     â”‚
â”‚                     é™æ€èµ„æºç¼“å­˜                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Load Balancer                          â”‚
â”‚                   (AWS ALB / NGINX)                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                           â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Frontend    â”‚         â”‚   Facilitator     â”‚
â”‚   (Vercel)    â”‚         â”‚   (AWS EC2 * 3)   â”‚
â”‚               â”‚         â”‚   â€¢ Primary       â”‚
â”‚ â€¢ Next.js SSR â”‚         â”‚   â€¢ Replica 1     â”‚
â”‚ â€¢ Edge Cache  â”‚         â”‚   â€¢ Replica 2     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                           â”‚
        â”‚                           â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚             Base L2 Blockchain                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Smart Contracts                         â”‚ â”‚
â”‚  â”‚  â€¢ TaskRegistry                          â”‚ â”‚
â”‚  â”‚  â€¢ X402Escrow                            â”‚ â”‚
â”‚  â”‚  â€¢ USDC (Circle)                         â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚             IPFS Network                         â”‚
â”‚  â€¢ Pinata / Web3.Storage                        â”‚
â”‚  â€¢ ä»»åŠ¡ç»“æœå­˜å‚¨                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ç»„ä»¶è¯´æ˜**:

| ç»„ä»¶ | æŠ€æœ¯é€‰å‹ | è§„æ ¼ | æˆæœ¬ |
|------|----------|------|------|
| å‰ç«¯ | Vercel | Hobby / Pro | $0-20/æœˆ |
| Facilitator | AWS EC2 | t3.small * 3 | ~$30/æœˆ |
| Load Balancer | AWS ALB | - | ~$20/æœˆ |
| åŒºå—é“¾ | Base L2 | - | æŒ‰ Gas è®¡è´¹ |
| IPFS | Pinata | 1GB | $0-20/æœˆ |
| ç›‘æ§ | CloudWatch | - | ~$10/æœˆ |
| **æ€»è®¡** | | | **~$80-100/æœˆ** |

---

## æ€»ç»“

### æ¶æ„ä¼˜åŠ¿

1. **æ¨¡å—åŒ–**: å‰ç«¯ã€åç«¯ã€åˆçº¦åˆ†ç¦»ï¼Œç‹¬ç«‹å¼€å‘å’Œéƒ¨ç½²
2. **å¯æ‰©å±•**: æ°´å¹³æ‰©å±• Facilitatorï¼Œæ”¯æŒæ›´å¤šç”¨æˆ·
3. **å®‰å…¨æ€§**: å¤šå±‚å®‰å…¨æœºåˆ¶ï¼Œé˜²å¾¡å¸¸è§æ”»å‡»
4. **é«˜æ€§èƒ½**: Next.js SSR/SSGï¼ŒCDN åŠ é€Ÿ
5. **ä½æˆæœ¬**: é›¶ Gas è´¹é™ä½ç”¨æˆ·æˆæœ¬

### æŠ€æœ¯å€ºåŠ¡

- [ ] Facilitator å•ç‚¹æ•…éšœï¼ˆéœ€è¦é›†ç¾¤å’Œè´Ÿè½½å‡è¡¡ï¼‰
- [ ] ç¼ºå°‘æ•°æ®åº“ï¼ˆæ‰€æœ‰æ•°æ®ä»é“¾ä¸Šè¯»å–ï¼‰
- [ ] ç¼ºå°‘ç¼“å­˜å±‚ï¼ˆé¢‘ç¹æŸ¥è¯¢åŒºå—é“¾ï¼‰
- [ ] ç¼ºå°‘ç›‘æ§å’Œå‘Šè­¦ç³»ç»Ÿ
- [ ] ç¼ºå°‘æ—¥å¿—èšåˆ

### æœªæ¥ä¼˜åŒ–æ–¹å‘

1. **æ•°æ®å±‚**: å¼•å…¥ PostgreSQL ç¼“å­˜é“¾ä¸Šæ•°æ®
2. **ç¼“å­˜å±‚**: Redis ç¼“å­˜çƒ­ç‚¹æ•°æ®
3. **ç›‘æ§**: Grafana + Prometheus
4. **æ—¥å¿—**: ELK Stack
5. **CI/CD**: GitHub Actions è‡ªåŠ¨éƒ¨ç½²

---

**æ–‡æ¡£ç‰ˆæœ¬**: 1.0.0  
**å‘å¸ƒæ—¥æœŸ**: 2025-10-25  
**ä½œè€…**: X402 å›¢é˜Ÿ
